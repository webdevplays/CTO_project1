const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-allBVt46.js","assets/main-4lvyySLX.js"])))=>i.map(i=>d[i]);
import{A as i,W as r,t as o,_ as h,J as w,M as y,D as g,w as u,x as d,K as m,y as c,z as l,H as p}from"./main-4lvyySLX.js";const _="Fractal";class f extends i{constructor(a={}){super(),this.name=_,this.url="https://developers.fractal.is/wallet-adapters/solana",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxwYXRoIGQ9Ik0zNDIuMjQgNzYzLjkzVjI0My44Mkg3MTV2MTEyLjY5SDQ4MXYxMTUuNThoMTgydjExMi42OUg0ODF2MTc5LjE1WiIgc3R5bGU9ImZpbGw6I2RlMzU5YyIvPjwvc3ZnPg==",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?r.Unsupported:r.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==r.Loadable)throw new o;this._connecting=!0;let a;try{a=(await h(async()=>{const{FractalWalletAdapterImpl:e}=await import("./index-allBVt46.js");return{FractalWalletAdapterImpl:e}},__vite__mapDeps([0,1]))).FractalWalletAdapterImpl}catch(e){throw new w(e==null?void 0:e.message,e)}let t;try{t=new a}catch(e){throw new y(e==null?void 0:e.message,e)}if(!t.getPublicKey())try{await t.connect()}catch(e){throw new g(e==null?void 0:e.message,e)}let n;try{n=new u(t.getPublicKey().toBytes())}catch(e){throw new d(e==null?void 0:e.message,e)}this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(a){throw this.emit("error",a),a}finally{this._connecting=!1}}async disconnect(){const a=this._wallet;if(a){this._wallet=null,this._publicKey=null;try{await a.disconnect()}catch(t){this.emit("error",new m(t==null?void 0:t.message,t))}}this.emit("disconnect")}async signTransaction(a){try{const t=this._wallet;if(!t)throw new c;try{return t.signTransaction(a)}catch(s){throw new l(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(a){try{const t=this._wallet;if(!t)throw new c;try{return t.signAllTransactions(a)}catch(s){throw new l(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signMessage(a){try{const t=this._wallet;if(!t)throw new c;try{return t.signMessage(a)}catch(s){throw new p(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}}export{f as FractalWalletAdapter,_ as FractalWalletName};
