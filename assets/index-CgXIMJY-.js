import{A as l,W as s,s as c,t as M,v as o,w as g,x as I,y as n,z as r,H as N}from"./main-4lvyySLX.js";const u="Clover";class h extends l{constructor(i={}){super(),this.name=u,this.url="https://clv.org",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2LjQ4IDBIMTEuNTJDNS4xNTc2OCAwIDAgNS4xNTc2OCAwIDExLjUyVjM2LjQ4QzAgNDIuODQyMyA1LjE1NzY4IDQ4IDExLjUyIDQ4SDM2LjQ4QzQyLjg0MjMgNDggNDggNDIuODQyMyA0OCAzNi40OFYxMS41MkM0OCA1LjE1NzY4IDQyLjg0MjMgMCAzNi40OCAwWiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzc5MTBfMTYzMzUxKSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI0LjAwMDYgMzkuMzYwNkMzMi40ODM3IDM5LjM2MDYgMzkuMzYwNiAzMi40ODM3IDM5LjM2MDYgMjQuMDAwNkMzOS4zNjA2IDE1LjUxNzUgMzIuNDgzNyA4LjY0MDYyIDI0LjAwMDYgOC42NDA2MkMxNS41MTc1IDguNjQwNjIgOC42NDA2MiAxNS41MTc1IDguNjQwNjIgMjQuMDAwNkM4LjY0MDYyIDMyLjQ4MzcgMTUuNTE3NSAzOS4zNjA2IDI0LjAwMDYgMzkuMzYwNlpNMjEuMjg5OSAxNS44Njg4SDI2LjcxMVYyMS4zNDdIMjEuMjkwNFYyNi42NTRIMjYuNzExVjMyLjEzMjJIMjEuMjg5OVYyNi44MjUySDE1Ljg2OTNWMjEuMzQ3SDIxLjI4OTlWMTUuODY4OFpNMjYuNzEyIDIxLjM0N0gzMi4xMzMxVjI2LjgyNTJIMjYuNzEyVjIxLjM0N1oiIGZpbGw9ImJsYWNrIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzkxMF8xNjMzNTEiIHgxPSI0OCIgeTE9Ii0xLjQzMDUxZS0wNiIgeDI9IjEuNDMwNTFlLTA2IiB5Mj0iNDgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E5RkZFMCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM4NkQ1RkYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4=",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?s.Unsupported:s.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==s.Unsupported&&c(()=>{var t;return(t=window.clover_solana)!=null&&t.isCloverWallet?(this._readyState=s.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==s.Installed)throw new M;this._connecting=!0;const i=window.clover_solana;let t;try{t=await i.getAccount()}catch(a){throw new o(a==null?void 0:a.message,a)}let e;try{e=new g(t)}catch(a){throw new I(a==null?void 0:a.message,a)}this._wallet=i,this._publicKey=e,this.emit("connect",e)}catch(i){throw this.emit("error",i),i}finally{this._connecting=!1}}async disconnect(){this._wallet&&(this._wallet=null,this._publicKey=null),this.emit("disconnect")}async signTransaction(i){try{const t=this._wallet;if(!t)throw new n;try{return await t.signTransaction(i)||i}catch(e){throw new r(e==null?void 0:e.message,e)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(i){try{const t=this._wallet;if(!t)throw new n;try{return await t.signAllTransactions(i)||i}catch(e){throw new r(e==null?void 0:e.message,e)}}catch(t){throw this.emit("error",t),t}}async signMessage(i){try{const t=this._wallet;if(!t)throw new n;try{const{signature:e}=await t.signMessage(i);return Uint8Array.from(e)}catch(e){throw new N(e==null?void 0:e.message,e)}}catch(t){throw this.emit("error",t),t}}}export{h as CloverWalletAdapter,u as CloverWalletName};
